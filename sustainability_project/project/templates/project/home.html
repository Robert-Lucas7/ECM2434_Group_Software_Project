{% extends 'base.html' %}

{% block content %}

    <!-- Secondary Navbar for Daily Challenge -->
    <div class="daily-challenge text-center mb-3">
        <h2>{{ daily_challenge|default:"Daily Challenge Sample Text" }}</h2>
        <!-- Submit Challenge Button -->
        {% if already_completed_challenge %}
            <a href="{% url 'make_post' %}"><button type="button" class="btn btn-success mt-2">Submit Again</button></a> 
        {% else %}
            <a href="{% url 'make_post' %}"><button type="button" class="btn btn-primary mt-2">Submit Challenge</button></a> <!-- mt-2 adds a little top margin -->
        {% endif %}
        
    </div>
    
    <div class="posts-feed">
        {% for post in posts %}
            <div class="post">
                <div class="post-header">
                    <a class="username" href="{% url 'profile' post.username %}">{{ post.username }}</a>
                    <!-- Updated to display date and time -->
                    <span class="post-date">{{ post.created_at|date:"H:i M d, Y" }}</span>
                </div>
                <div class="post-content">{{ post.content }}</div>
            </div>
        {% empty %}
            <p>No Posts!</p>
        {% endfor %}
    </div>

{% endblock %}
