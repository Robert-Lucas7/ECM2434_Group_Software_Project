{% extends 'base.html' %}


{% block content %}


<head>
    <meta charset="UTF-8">
    <title>Title</title>
     <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>

    <style>
        #map {
            height: 50%;
            width: 75%;
            position:absolute;
            top: 60%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .mapbuttons {
            z-index: 1;
            position:absolute;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            justify-content: center;
        }
    </style>
</head>
<body>
    {% load static %}
    <div class="background-image" style="background-image: url('{% static 'project/exeter_uni_campus.jpg' %}'); filter: blur(0px)"></div>
    <script>
        const challenges = JSON.parse('{{ challenges|safe }}')
        const todays_challenges = JSON.parse('{{ todays_challenges|safe }}')
        const marker_pic = "{% static "project/marker/marker.jpg" %}"
    </script>
    {% for challenge in challenges %}
        {{ challenge.response }}
    {% endfor %}
    <div class="mapbuttons">
          <button class="btn btn-primary btn-block" type="button" id="todaysub">Today's Submissions</button>
          <button class="btn btn-success btn-block" type="button" id="yoursub">Your Submissions</button>
    </div>
    <div id="map"></div>
    <script src="{% static 'map-challenges.js' %}"></script>

</body>

{% endblock %}
